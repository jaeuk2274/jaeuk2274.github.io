---
title: "부트 개념과 활용-09.외부 설정"
date: 2019-12-14
categories:
- Back-end
tags:
- Spring 
- Boot
comments : true
---

이 문서는 추후 정리 예정인 문서입니다.

## 외부 설정

https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#boot-features-external-c
onfig
사용할 수 있는 외부 설정
● properties
● YAML
● 환경 변수
● 커맨드 라인 아규먼트
프로퍼티 우선 순위
1. 유저 홈 디렉토리에 있는 spring-boot-dev-tools.properties
2. 테스트에 있는 @TestPropertySource
3. @SpringBootTest 애노테이션의 properties 애트리뷰트
4. 커맨드 라인 아규먼트
5. SPRING_APPLICATION_JSON (환경 변수 또는 시스템 프로티) 에 들어있는
프로퍼티
6. ServletConfig 파라미터
7. ServletContext 파라미터
8. java:comp/env JNDI 애트리뷰트
9. System.getProperties() 자바 시스템 프로퍼티
10. OS 환경 변수
11. RandomValuePropertySource
12. JAR 밖에 있는 특정 프로파일용 application properties
13. JAR 안에 있는 특정 프로파일용 application properties
14. JAR 밖에 있는 application properties
15. JAR 안에 있는 application properties
16. @PropertySource
17. 기본 프로퍼티 (SpringApplication.setDefaultProperties)
application.properties 우선 순위 (높은게 낮은걸 덮어 씁니다.)
1. file:./config/
2. file:./
3. classpath:/config/
4. classpath:/
랜덤값 설정하기
● ${random.*}
플레이스 홀더
● name = keesun
● fullName = ${name} baik





15.
어플리케이션 프로퍼티 사용
~~~xml
#15번째 순위
people.name = real-jaeuk 15
~~~
~~~java
@Component
public class SampleRunner implements ApplicationRunner {

    @Value("{people.name}")
    private String name;

    @Override
    public void run(ApplicationArguments args) throws Exception {
        System.out.println("=============== real application ===============");
        System.out.println("people.name : " + name);
        System.out.println("=============== real application ===============");
    }
}
~~~

3. @SpringBootTest 애노테이션의 properties 애트리뷰트
test디렉토티에

리소스 디렉토리 만들고

프로젝트 구조 (file-project structure) 설정
모듈 설정
프로퍼티 - 소스 탭
해당 경로 (src-test-resuorce를 테스트 리소시스 경로로 지정해 준다.

~~~xml
#3번째 순위
people.name = real-jaeuk 3
~~~
~~~java
@RunWith(SpringJUnit4ClassRunner.class)
@SpringBootTest
class PropertiesApplicationTests {

    @Autowired
    Environment environment;

    @Test
    void contextLoads() {
        System.out.println("=============== test application ===============");
        System.out.println("people.name : " + environment.getProperty("people.name"));
        System.out.println("=============== test application ===============");
    }
}
~~~
테스트를 실행하면
~~~
=============== test application ===============
people.name : real-jaeuk 3
=============== test application ===============
~~~
15 무시하고 3이 출력된다




