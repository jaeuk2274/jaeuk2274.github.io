


JDBC
- SQL을 실행하는 비용이 비싸다.(오래 걸린다)
- SQL이 데이터베이스 마다 다르다.
- 스키마를 바꿀때마다 많은 코드를 수정해야 한다.
- 반복적인 코드가 너무 많다.
- 당장은 필요가 없는데 언제 쓸 줄 모르니까 미리 다 읽어와야 하나... (필요가 없더라도 다 읽어야 한다)


JDBC 사용
~~~
try(Connection connection = DriverManager.getConnection(url, username, password)) {
    System.out.println("Connection created: " + connection);
    String sql = "INSERT INTO ACCOUNT VALUES(1, 'keesun', 'pass');";
    try(PreparedStatement statement = connection.prepareStatement(sql)) {
        statement.execute();
    }
}
~~~


도메인 모델 사용
~~~
Account account = new Account(“keesun”, “pass”);
accountRepository.save(account);
~~~


ORM

JDBC 대신 도메인 모델 사용하려는 이유
- 객체 지향 프로그래밍의 장점을 활용 가능
- 각종 디자인 패턴
- 코드 재사용
- 비즈니스 로직 구현 및 테스트 편리함.


장점
- 생산성
- 유지보수성
- 성능
- 밴더 독립성

유일한 단점
- 학습비용


부가적인 설명         
>우리가 어떠한 한 트랜잭션 안에서 account를 저장을 했다.       
그 안의 값들을 변경할 때 만약 password를 3번 변경을 하고 저장을 한다.       
만약 sql 이라면 3번 변경이니까 update 쿼리만 3번 사용한다.         
만약 하이버네이트나 jpa같은 orm을 썼다면 실제 sql은 한번만 실행이 된다.          
객체와 데이터베이스간 캐시가 있어서 변경사항을 감지하고 이 변경사항을 반영해야 말아야 하나 결정을 한 후               
정말로 디비에 변경을 해야하는 그 시점에만 반영을 한다.            
한 트랜잭션 내에서 값을 바꿨지만 jpa가 훨씬 더 성능이 좋다.          
예시 중에 하나이고 성능 최적화를 위한 여러가지 방법을 제공해 준다.          
또한 db를 바꾸더라도 코드는 전혀 영향이 없다.      
유일한 단점은 학습비용 발생, 생각보다 어럽다.        
하지만 장점이 훨씬 더 많음.        
특히 성능에 관련된 부분 이점이 정말 크다. 혹시라도 하이버네이트가 성능이 더 부족하다면 학습이 모자란 것.      
추천 서적          
김영한 - 자바 ORM표준 JPA프로그래밍      




           
